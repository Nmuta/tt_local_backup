<mat-card>
  <mat-card-header>
    <mat-card-title>Player CMS Override</mat-card-title>
    <mat-card-subtitle>{{ gameTitle | humanize }}</mat-card-subtitle>
  </mat-card-header>
  <form [formGroup]="formGroup" class="sf-wrapper">
    <div *waitForMonitor="getMonitor" class="sf-vertical">
      <div class="sf-horizontal">
        <mat-form-field appearance="fill" class="sf-default-hint">
          <mat-label>Environment</mat-label>
          <mat-select [formControl]="formControls.environment">
            <mat-option *ngFor="let cmsEnvironment of cmsEnvironments" [value]="cmsEnvironment">
              {{ cmsEnvironment | humanize }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="sf-horizontal">
        <mat-form-field appearance="fill" class="sf-default-hint">
          <mat-label>Slot</mat-label>
          <input type="text" matInput [formControl]="formControls.slot" />
        </mat-form-field>
      </div>
      <div class="sf-horizontal">
        <mat-form-field appearance="fill" class="sf-default-hint">
          <mat-label>Snapshot</mat-label>
          <input type="text" matInput [formControl]="formControls.snapshot" />
          <mat-hint>Takes priority over slot if both are specified</mat-hint>
        </mat-form-field>
      </div>
      <div class="sf-horizontal">
        <button
          mat-raised-button
          color="primary"
          (click)="setCmsOverride()"
          stateManager
          [monitor]="postMonitor"
          monitorDisable
          monitorWarnSnackbar
          monitorCompleteSnackbar
          [verifyWith]="verifyCmsOverride"
        >
          Submit CMS Override
        </button>
        <mat-checkbox
          #verifyCmsOverride
          stateManager
          [monitor]="postMonitor"
          [permissionAttribute]="permAttribute"
          [permissionTitle]="gameTitle"
          matTooltip="Verify Cms Override"
          >Verify CMS Override</mat-checkbox
        >
      </div>
      <div class="sf-horizontal" *ngIf="hasCmsOverride">
        <button
          mat-raised-button
          color="warn"
          (click)="deleteCmsOverride()"
          stateManager
          [monitor]="deleteMonitor"
          monitorDisable
          monitorWarnSnackbar
          monitorCompleteSnackbar
          [verifyWith]="verifyDeleteCmsOverride"
        >
          Delete CMS Override
        </button>
        <mat-checkbox
          #verifyDeleteCmsOverride
          stateManager
          [monitor]="deleteMonitor"
          [permissionAttribute]="permAttribute"
          [permissionTitle]="gameTitle"
          matTooltip="Verify Cms Override Removal"
          >Verify CMS Override Removal</mat-checkbox
        >
      </div>
    </div>
  </form>
</mat-card>
