<ng-container *ngIf="!userProfile">
  <p>Login to see which Steward app are available to you.</p>

  <mat-slide-toggle
    *ngIf="showStagingApiToggle"
    [(ngModel)]="enableStagingApi"
    (ngModelChange)="syncStagingApiSettings()"
    matTooltip="The Staging API enabled requests to be sent to the API service on the staging slot."
    matTooltipPosition="after"
  >
    Use Staging</mat-slide-toggle
  >
  <a mat-raised-button color="primary" [routerLink]="['/auth/login']" [queryParams]="{ from: '' }"
    >Login</a
  >
</ng-container>

<ng-container *ngIf="!!userProfile">
  <p>Hi, {{ userProfile.name || userProfile.emailAddress }}.</p>
  <p *ngIf="userProfile.role !== 'none'">Your role is: {{ userProfile.role }}.</p>
  <div *ngIf="userProfile.role === 'none'">
    <p>You do not have an assigned role.</p>
    <p>
      Try contacting us on <a [routerLink]="['/external/teams']" target="_blank">Teams</a> or
      <a [routerLink]="['/external/email']" target="_blank">Email</a>.
    </p>
    <button class="refresh-button" mat-raised-button color="primary" (click)="refreshLoginToken()">
      Refresh Role
    </button>
  </div>

  <div class="app-list">
    <a
      [disabled]="!areAnyAppsAccessible"
      mat-raised-button
      color="primary"
      routerLink="/app/tools/home"
    >
      User Selected Tools

      <mat-icon
        [svgIcon]="areAnyAppsAccessible ? 'steward-approve-circle' : 'steward-close-circle'"
        [matTooltip]="areAnyAppsAccessible ? appAvailableTooltip : appUnavailableTooltip"
      ></mat-icon>
    </a>
    <a
      [disabled]="!areZendeskAppsAccessible"
      mat-raised-button
      color="accent"
      routerLink="/ticket-app/title"
    >
      Zendesk Ticket Tools

      <mat-icon
        [svgIcon]="areZendeskAppsAccessible ? 'steward-approve-circle' : 'steward-close-circle'"
        [matTooltip]="areZendeskAppsAccessible ? appAvailableTooltip : appUnavailableTooltip"
      ></mat-icon>
    </a>
  </div>
  <div class="spacer"><mat-divider></mat-divider></div>
  <a mat-raised-button color="warn" [routerLink]="['/auth/logout']" [queryParams]="{ from: '' }"
    >Logout</a
  >
</ng-container>
