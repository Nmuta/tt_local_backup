<div class="sf-wrapper">
  <div class="sf-horizontal">
    <mat-form-field class="tile-filter-chip-list sf-default-hint" appearance="fill">
      <mat-label>Filter Tiles</mat-label>
      <mat-chip-list #chipList aria-label="Filter selection">
        <mat-chip
          *ngFor="let filter of filters"
          class="filter-type-{{ filter.type }}"
          (removed)="removeFilter(filter)"
        >
          {{ filter.type | humanize }}:{{ filter.value | gameTitleAbbreviation: true }}
          <button matChipRemove>
            <mat-icon>cancel</mat-icon>
          </button>
        </mat-chip>
        <input
          placeholder="Select filter..."
          #filterInput
          [formControl]="filterControl"
          [matAutocomplete]="auto"
          [matChipInputFor]="chipList"
          [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
          (matChipInputTokenEnd)="addFilter($event)"
        />
      </mat-chip-list>
      <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selectedFilter($event)">
        <mat-optgroup label="Title">
          <mat-option *ngFor="let chip of titleFilterOptions | async" [value]="chip">
            {{ chip.value | gameTitleAbbreviation: true }}
          </mat-option>
        </mat-optgroup>
      </mat-autocomplete>
      <button
          clickStop
          matSuffix
          mat-icon-button
          (click)="clearFilters()"
          matTooltip="Clear search filters"
          type="button"
        >
          <mat-icon>close</mat-icon>
        </button>
    </mat-form-field>
    <button mat-raised-button (click)="clearTools()">Reset Selection</button>
  </div>
</div>

<home-tile-grid [tiles]="filteredPossibleNavbarItems"></home-tile-grid>

<div *ngIf="rejectedPossibleNavbarItems.length > 0" class="horizontal-divider">
  <span>Tiles below do not match filters</span>
</div>

<home-tile-grid
  *ngIf="rejectedPossibleNavbarItems.length > 0"
  [tiles]="rejectedPossibleNavbarItems"
></home-tile-grid>
